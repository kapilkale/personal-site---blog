<!DOCTYPE html>
<html>
  <head>
    <title>The Blog | Kapil Kale</title>
    <link href="/stylesheets/application.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34881072-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>


  <body id="post">
    <div id="all_content">
      <div id="container">
        
  <div class="social_buttons">
    <div>
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.kapilkale.com/blog/gmails-second-major-problem/" data-count="vertical" data-text="Blog Home" data-via="kapilvkale">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div>
      <iframe src="http://www.facebook.com/plugins/like.php?app_id=420987101301986&amp;href=http://www.kapilkale.com/blog/gmails-second-major-problem/&amp;send=false&amp;layout=box_count&amp;width=50&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=40" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:70px; padding-top:2px;" allowTransparency="true"></iframe>
    </div>
  </div>
  <h2 class="post_title"><a href="/blog/gmails-second-major-problem/">GMail's Second Major Problem</a></h2>
  <p class="post_subheader">1/23/2013 by Kapil</p>
  <div class="post_content">
    <p>GMail is a brilliant piece of software. But it&#8217;s got some flaws.</p>

<p>The first is UX speed. This has been brought up time and time again so I&#8217;ll ignore. [1]</p>

<p>The second is delivery time. Mail can take hours to get delivered, and it is Google&#8217;s fault.</p>

<p>I know it is Google&#8217;s fault because the email headers identify the source of the lag to be Google&#8217;s mail servers. Here&#8217;s an example of a delayed email, parsed by Google&#8217;s <a href='https://toolbox.googleapps.com/apps/messageheader/'>header analyzer</a>:</p>
<a href='/gmail_leg_full.jpg'><img src='/gmail_lag_small.jpg' /></a>
<p>This particular email was important enough that I had to get on the phone with the sender. He forwarded 4 additional copies (!) that also had 2 hour delays on them. For people who live on email, this is unacceptable.</p>

<p>This sort of thing leads to all sorts of problems. For example, at <a href='http://www.giftrocket.com'>GiftRocket</a>, we do team discussions over email. When lag happens duringt hose discussions, responses to a thread arrive out of order and result in confusion about context.</p>

<p>This issue has happened 2-3 times in the past month. When it happens, it affects 20-30% of the emails coming into my inbox. Let me know via HN or a comment if you&#8217;ve experienced this too so I have a gauge on how widespread the problem is. [2], [3]</p>

<p>I don&#8217;t know what the solution is. But I do know this:</p>

<ol>
<li>
<p>GMail should have an uptime notifier. Like <a href='http://status.heroku.com'>Heroku</a> or <a href='https://status.stripe.com'>Stripe</a>. If I don&#8217;t get something I&#8217;m expecting, it&#8217;d be nice to know that one of the mail servers is backed up or undergoing maintenance.</p>
</li>

<li>
<p>I&#8217;d pay GMail money to make this go away. I doubt I&#8217;m the only one, given there are others out there <a href='http://paulgraham.com/ambitious.html'>willing to pay $1000 / month for a better product</a>.</p>
</li>
</ol>

<p>Please, GMail, take my money.</p>
<hr />
<p>[1] My friend Jack from <a href='http://www.seatgeek.com/super-bowl-tickets'>SeatGeek</a> did an outstanding job <a href='http://jackg.org/gmail-as-a-facade'>identifying the cause</a>. Paul Graham has explained it best when he said <a href='http://paulgraham.com/ambitious.html'>&#8220;If you made something no better than GMail, but fast, that alone would let you start to pull users away from GMail.&#8221;</a>.</p>

<p>[2] Gmail makes a 99.9% uptime promise in the <a href='http://www.google.com/apps/intl/en/terms/sla.html'>Google Apps SLA</a>. I have no idea how this sort of lag gets accounted for in their uptime calcs.</p>

<p>[3]Attachments seem to have no impact.</p>
  </div>

  <div class="social_buttons">
    <div>
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.kapilkale.com/blog/the-worst-ui-pattern-in-existence/" data-count="vertical" data-text="Blog Home" data-via="kapilvkale">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div>
      <iframe src="http://www.facebook.com/plugins/like.php?app_id=420987101301986&amp;href=http://www.kapilkale.com/blog/the-worst-ui-pattern-in-existence/&amp;send=false&amp;layout=box_count&amp;width=50&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=40" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:70px; padding-top:2px;" allowTransparency="true"></iframe>
    </div>
  </div>
  <h2 class="post_title"><a href="/blog/the-worst-ui-pattern-in-existence/">The Worst UI Pattern in Existence</a></h2>
  <p class="post_subheader">12/14/2012 by Kapil</p>
  <div class="post_content">
    <p>Infinite scroll + footer. Scroll through page content to the footer. As you start reading the footer links, the site injects new content into the page and the footer gets pushed down below the fold. Repeat ad nauseum.</p>

<p>Facebook and LinkedIn&#8217;s news feeds use this pattern. I get that most Facebook &amp; Linkedin users don&#8217;t need to touch the footer, but this doesn&#8217;t excuse a terrible UI for those that do. Especially when better design options are available.</p>

<p>Their design teams are aware of the issue, but their &#8220;fixes&#8221; aren&#8217;t very good.</p>

<p>LinkedIn&#8217;s solution is to end the infinite scroll after three reloads. But as a result, a user has to deal with 3 terrible UI events before they get what they want. Will they overcome the <a href='http://www.daviesscoll.u-net.com/joc/students/assignments/asassignments/classical.htm'>conditioning</a> or just give up?</p>
<img src='/linkedin_footer.jpg' width='400px' />
<p>Facebook&#8217;s solution is smarter- they put footer links in the right sidebar, which is excluded from the infinte scroll. But there&#8217;s a second footer- the normal footer- at the bottom of the page where expected:</p>
<img src='/footer.jpg' width='400px' />
<p>There are two problems with this design.</p>

<p>First: the brief glimpse of the first footer distracts from the existence of the nontraditionally-placed second footer; I&#8217;d bet most users don&#8217;t even see footer #2.</p>

<p>Second: footer #2 doesn&#8217;t have the full set of links. For example, you&#8217;d miss the &#8220;developers&#8221; link because it&#8217;s buried under &#8220;more&#8221;. Which makes a user want to chase footer #1 all the more.</p>

<p>As a UI guy at <a href='http://www.giftrocket.com/gift-cards/restaurants'>GiftRocket</a>, here&#8217;s what I&#8217;d do: get rid of the normal footer, and list a full set of links in footer #2. When people scroll down looking for footer links, they&#8217;ll won&#8217;t see a footer in the normal place, but instead see the floating footer on the right.</p>
<img src='/footer_correct.jpg' width='400px' /><br /><br />
  </div>

  <div class="social_buttons">
    <div>
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.kapilkale.com/blog/the-housing-cloud/" data-count="vertical" data-text="Blog Home" data-via="kapilvkale">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div>
      <iframe src="http://www.facebook.com/plugins/like.php?app_id=420987101301986&amp;href=http://www.kapilkale.com/blog/the-housing-cloud/&amp;send=false&amp;layout=box_count&amp;width=50&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=40" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:70px; padding-top:2px;" allowTransparency="true"></iframe>
    </div>
  </div>
  <h2 class="post_title"><a href="/blog/the-housing-cloud/">The Housing Cloud</a></h2>
  <p class="post_subheader">11/30/2012 by Kapil</p>
  <div class="post_content">
    <p>I threw out my DVD collection today. Rebel Without a Cause. Ocean&#8217;s Eleven. Gone. I own most of them on Amazon Instant Video, so I didn&#8217;t need them anymore.</p>

<p>It&#8217;s the same thing I did with my CD collection 10 years ago when I moved to MP3s, or with my MP3 collection when I moved to Spotify. Books to Kindle. Photos to Dropbox and Facebook. Notebooks to Hackpad. Nearly all of my digitizable content is in the cloud.</p>

<p>Physical things are moving to the cloud too. Zipcar is the cloud for cars. Exec is the cloud for secretarial work. And though there isn&#8217;t a &#8220;cloud&#8221; for housing, AirBnB, Craigslist, and VRBO are getting close.</p>

<p>From 2009 onwards, I&#8217;ve been living in furnished apartments, sublets, vacation rentals, or <a href='http://www.giftrocket.com/gift-cards/hotels'>hotels</a>. The benefits have been amazing. I rarely bought household goods or furniture, avoided dealing with maintenance or repair, and signed only short-term contracts. Earth Class Mail disentangled my permanent mailing address from where I was currently living. The resulting mobility enabled me to live in six different cities in three years. My housing situation felt like borrowing movies on Netflix or spinning up instances on AWS.</p>

<p>Working for <a href='http://www.giftrocket.com/'>GiftRocket</a> has given me flexibility in where I can work.</p>

<p>For some it works really well. <a href='http://www.amazon.com/The-Upgrade-Cautionary-Reservations-ebook/dp/B005CI2IUA'>Paul Carr did it</a> with hotels. <a href='http://www.youtube.com/watch?v=9XOf-GUMCXk'>Sam Lessin</a> was less positive on his experience. For me, it always felt like a bit of a hack. I spent more time surfing Craigslist, AirBnB, Starwood than I would have liked[1]. The transaction costs were non-trivial.</p>

<p>The nature of the problem is uncertain timing. With fixed long-term stays everyone is comfortable signing leases and furnishing apartments. But I don&#8217;t know if I&#8217;m going to be traveling to another city until a couple weeks before. And the periods of stay might be minimal. As a result, I&#8217;ll be paying for two housing units- my apartment in one location and a hotel in another.</p>

<p>The uncertain timing makes renting out my apartment a pain. I have to worry about posting a listing, managing inquiries, interacting with guests, and having the apartment cleaned. All potentially while I&#8217;m out of town. These transaction costs result in an inefficient market.</p>

<p>However, these transaction costs will go down over time. Airbnb helps market the listings. Property managers help with interactions and cleanings, but at the moment they&#8217;re expensive and only available for true vacation properties. Once these inconveniences go away, housing will truly be a cloud-like entity.</p>

<p>And at that point, I suspect far more people will attempt to live in the housing cloud- moving from place to place at will. Not thinking about &#8220;stuff&#8221;, and spending their time on more valuable things like people, ideas, travel, and work. This lifestyle doesn&#8217;t appeal to everyone, but these changes will certainly surface the nomads among us.</p>
<hr />
<p>[1] There was actually a period of 2 months where I had no stable housing at all. I was on business travel 3 days a week, using the points I was accumulating to stay in cheap hotels another 2 days a week, and then crashing with friends for the last 2. It led to some strange situations, like having to change clothes in my car, or forgetting dry cleaning in another city.</p>
  </div>

  <div class="social_buttons">
    <div>
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.kapilkale.com/blog/terrible-linkedin-bug/" data-count="vertical" data-text="Blog Home" data-via="kapilvkale">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div>
      <iframe src="http://www.facebook.com/plugins/like.php?app_id=420987101301986&amp;href=http://www.kapilkale.com/blog/terrible-linkedin-bug/&amp;send=false&amp;layout=box_count&amp;width=50&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=40" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:70px; padding-top:2px;" allowTransparency="true"></iframe>
    </div>
  </div>
  <h2 class="post_title"><a href="/blog/terrible-linkedin-bug/">LinkedIn Is Providing Incorrect Contact Information</a></h2>
  <p class="post_subheader">10/5/2012 by Kapil</p>
  <div class="post_content">
    <p>I have two LinkedIn contacts who have the same name, but are two different people. LinkedIn provides me the same email address in the &#8220;contact&#8221; sidebar on their profile pages. As a result of this, I sent an email to the wrong person this morning.</p>

<p>I don&#8217;t know why this is happening. My only guess is that when users upload their address books to find contacts, LinkedIn goes through them and does some guesswork to find the contact and assign it to a connection. But this approach is really strange because that user&#8217;s primary address (the one they provided when they signed up) is listed in the contact popup when you click the &#8220;view/edit contact info&#8221; link. Why not just look for proper matches instead of guessing by name?</p>

<p>And though the contacts preferred email is listed, the incorrectly fuzzy-matched email address is the one displayed in the sidebar.</p>

<p>I&#8217;ve emailed customer services, but if you work at LinkedIn, contact me and I will send you screenshots.</p>
  </div>

  <div class="social_buttons">
    <div>
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.kapilkale.com/blog/use-jekyll-for-massive-blog-traffic/" data-count="vertical" data-text="Blog Home" data-via="kapilvkale">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    </div>
    <div>
      <iframe src="http://www.facebook.com/plugins/like.php?app_id=420987101301986&amp;href=http://www.kapilkale.com/blog/use-jekyll-for-massive-blog-traffic/&amp;send=false&amp;layout=box_count&amp;width=50&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=40" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:70px; padding-top:2px;" allowTransparency="true"></iframe>
    </div>
  </div>
  <h2 class="post_title"><a href="/blog/use-jekyll-for-massive-blog-traffic/">Use Jekyll To Keep Your Blog From Folding Under Traffic</a></h2>
  <p class="post_subheader">10/4/2012 by Kapil</p>
  <div class="post_content">
    <p>I&#8217;ve seen a lot of blogs fold under traffic, particularly on Hacker News.</p>

<p>I&#8217;m not sure why this happens, but I&#8217;ve seen it happen under not-that-crazy traffic loads. Anecdotally, a HN story at around #10 will have around 100 concurrent visitors staying for 30 seconds each. The server gets maybe three requests per second. I know nothing about server performance, but a setup with a few processes should be able to handle this no problem.</p>

<p>One way to solve this problem is to use a third-party blog service like Posterous or Tumblr. They seem to handle the traffic, at the tradeoff of hosting the blog on <a href='http://ycombinator.posterous.com'>their own their domain</a>. This isn&#8217;t great if for blogs who want the associated SEO benefit of inbound links to their own domain. Also not great for companies or people who want lots of customization (e.g. to get readers into a conversion funnel).</p>

<p>Scaling up processes manually on AWS or Heroku works but is slightly annoying since it is hard to predict when traffic will spike. Programmers better than myself can probably write scripts to do this, but this seems inelegant given blog pages are static assets and should be quick to load anyway.</p>

<p>The best solution I&#8217;ve found to the problem is to use <a href='http://www.jekyllrb.com'>Jekyll</a>, a static site generator, to create static html files.</p>

<p>This solution has held up to a couple hundred concurrent visitors with a single Heroku process with no perceptible decrease in performance [1], and I&#8217;m pretty sure I&#8217;m not even doing it right. [2]</p>

<p>This blog&#8217;s code is <a href='https://github.com/kapilkale/personal-site---blog'>hosted publicly on Github</a> and demonstrates the simplicity behind Jekyll&#8217;s implementation.</p>

<ul>
<li>There&#8217;s a basic Sinatra app. [3]</li>

<li>There&#8217;s a _config.yml in the repo citing where posts are written in markdown, and where they&#8217;ll be sent to when compiled.</li>

<li>There&#8217;s a layout for posts.</li>

<li>Typing Jekyll into the command line compiles the posts into HTML files.</li>
</ul>

<p>Unfortunately, this leaves users to configure things like RSS feeds, sharing buttons, tags, styling, etc. But I&#8217;d expect some of the people who are trying to run traffic-heavy company or personal blogs might also want to customize such things.</p>

<p>[1]I&#8217;m hosting on the free Heroku plan for which I have one process only. We used a similar configuration for the <a href='http://www.giftrocket.com'>GiftRocket blog</a> and it held up to over a thousand concurrent visitors.</p>

<p>[2] There should be a way to configure the server to render an index.html file for a given public route automatically (e.g. for a request to /blog/use-jekyll-for-massive-blog-traffic render /blog/use-jekyll-for-massive-blog-traffic/index.html). Right now, I&#8217;m having Sinatra <a href='https://github.com/kapilkale/personal-site---blog/blob/master/home.rb'>read the file</a>, which I suspect takes more time than if it were configured lower down the stack. If you know what I should be doing, would love to hear it.</p>

<p>[3] Unnecessary, but I figured I might actually host some small projects here.</p>
  </div>

        <div class="footer">
          <a href="/">Home</a>
          <a href="/blog">Blog</a>
        </div>
      </div>
    </div>
  </body>
</html>
